
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>μ†λ¦¬λ³΄λ”°λ¦¬ ν†µν•© λ¦¬ν¬νΈ κ²€μƒ‰κΈ°</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body style="font-family:'Noto Sans KR', sans-serif; max-width:800px; margin:auto; padding:20px;">
  <h2 style="color:#b5417c;">μ†λ¦¬λ³΄λ”°λ¦¬ μ μ•„κµμ΅ λ¦¬ν¬νΈ κ²€μƒ‰</h2>

  <h3>π” μ£Όμ λ… + μ—°λ Ή</h3>
  <select id="topicSelect" style="width:100%;padding:10px;margin-bottom:10px;">
    <option value="">-- μ£Όμ  μ„ νƒ --</option>
    
  </select>
  <select id="ageSelect1" style="width:100%;padding:10px;margin-bottom:20px;">
    <option value="">-- μ—°λ Ή μ„ νƒ --</option>
    <option value="λ§1μ„Έ">λ§1μ„Έ</option><option value="λ§2μ„Έ">λ§2μ„Έ</option><option value="λ§3μ„Έ">λ§3μ„Έ</option><option value="λ§4μ„Έ">λ§4μ„Έ</option><option value="λ§5μ„Έ">λ§5μ„Έ</option>
  </select>
  <button onclick="generateByTopic()" style="width:100%;padding:12px;background:#b5417c;color:#fff;">λ¦¬ν¬νΈ μƒμ„±</button>

  <hr style="margin:30px 0;">

  <h3>π“… μ›” + μ£Όμ°¨ + μ—°λ Ή</h3>
  <select id="monthSelect" style="width:100%;padding:10px;margin-bottom:10px;">
    <option value="">-- μ›” μ„ νƒ --</option>
    <option>3μ›”</option><option>4μ›”</option><option>5μ›”</option><option>6μ›”</option><option>7μ›”</option><option>8μ›”</option><option>9μ›”</option><option>10μ›”</option><option>11μ›”</option><option>12μ›”</option><option>1μ›”</option><option>2μ›”</option>
  </select>
  <select id="weekSelect" style="width:100%;padding:10px;margin-bottom:10px;">
    <option value="">-- μ£Όμ°¨ μ„ νƒ --</option>
    <option>1μ£Όμ°¨</option><option>2μ£Όμ°¨</option><option>3μ£Όμ°¨</option><option>4μ£Όμ°¨</option>
  </select>
  <select id="ageSelect2" style="width:100%;padding:10px;margin-bottom:20px;">
    <option value="">-- μ—°λ Ή μ„ νƒ --</option>
    <option value="λ§1μ„Έ">λ§1μ„Έ</option><option value="λ§2μ„Έ">λ§2μ„Έ</option><option value="λ§3μ„Έ">λ§3μ„Έ</option><option value="λ§4μ„Έ">λ§4μ„Έ</option><option value="λ§5μ„Έ">λ§5μ„Έ</option>
  </select>
  <button onclick="generateByCalendar()" style="width:100%;padding:12px;background:#b5417c;color:#fff;">λ¦¬ν¬νΈ μƒμ„±</button>

  <div id="reportBox" style="margin-top:30px;padding:20px;border:1px solid #ccc;"></div>

<script>
const reportData = {};
const calendarMap = {};

function generateByTopic() {
  const topic = document.getElementById("topicSelect").value;
  const age = document.getElementById("ageSelect1").value;
  showReport(topic, age);
}

function generateByCalendar() {
  const month = document.getElementById("monthSelect").value;
  const week = document.getElementById("weekSelect").value;
  const age = document.getElementById("ageSelect2").value;
  const key = month + "_" + week;
  const topicList = calendarMap[key] || [];
  const topic = topicList.length > 0 ? topicList[0] : null;
  showReport(topic, age);
}

function showReport(topic, age) {
  const box = document.getElementById("reportBox");
  if (!topic || !age || !reportData[topic] || !reportData[topic][age]) {
    box.innerHTML = "<p style='color:red;'>λ¦¬ν¬νΈ μ •λ³΄λ¥Ό μ°Ύμ„ μ μ—†μµλ‹λ‹¤. μ„ νƒ κ°’μ„ ν™•μΈν•΄μ£Όμ„Έμ”.</p>";
    return;
  }
  const data = reportData[topic][age];
  let html = "<p><strong>μ£Όμ :</strong> " + topic + " / <strong>μ—°λ Ή:</strong> " + age + "</p>";
  html += "<p><strong>μ—°λ Ή λ°λ‹¬ νΉμ„±:</strong> " + data.μ—°λ ΉνΉμ„± + "</p>";
  html += "<table style='width:100%;border-collapse:collapse;margin-top:10px;'>";
  html += "<tr><th style='border:1px solid #aaa;padding:8px;'>λ°λ‹¬ μμ—­</th><th style='border:1px solid #aaa;padding:8px;'>κµμ΅ ν¨κ³Ό</th></tr>";
  for (const key in data.λ°λ‹¬ν¨κ³Ό) {
    html += "<tr><td style='border:1px solid #ccc;padding:8px;'>" + key + "</td><td style='border:1px solid #ccc;padding:8px;'>" + data.λ°λ‹¬ν¨κ³Ό[key] + "</td></tr>";
  }
  html += "</table>";
  box.innerHTML = html;
}
</script>
</body>
</html>
